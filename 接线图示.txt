╔═══════════════════════════════════════════════════════════════════╗
║         ESP32 + ST7789 + YS-IRTM + DHT11 完整接线图            ║
╚═══════════════════════════════════════════════════════════════════╝

                    ┌─────────────────────────────────┐
                    │          5V 电源                │
                    └──────────────┬──────────────────┘
                                   │
                                   ├──────────────────┐
                                   ↓                  ↓
                          ┌─────────────┐     ┌─────────────┐
                          │  ST7789     │     │  ESP32      │
                          │  BLK ←─────┼────→  VIN (5V)    │
                          └─────────────┘     └─────────────┘
                                                  │
                                                  ↓
                              ┌─────────────────────────────────┐
                              │          3.3V 电源              │
                              └─────────────────────────────────┘
                                       │
                     ┌─────────────────┼─────────────────┐
                     ↓                 ↓                 ↓
              ┌─────────────┐  ┌─────────────┐  ┌─────────────┐
              │  ST7789     │  │  DHT11      │  │  YS-IRTM    │
              │  VCC ←──────┼──┼─ VCC ←─────┼──┼─ VCC ←─────┼─┘
              │  GND        │  │  GND        │  │  GND        │
              └─────────────┘  └─────────────┘  └─────────────┘
                    │                 │                 │
                    └─────────────────┴─────────────────┘
                                      │
                                      ↓
                              ┌─────────────┐
                              │  ESP32      │
                              │  GND        │
                              └─────────────┘


═══════════════════════════════════════════════════════════════════

【详细接线表】

┌─────────────┬─────────────┬─────────────────────────────────┐
│   模块引脚  │  ESP32引脚  │           说                  │
├─────────────┼─────────────┼─────────────────────────────────┤
│             │             │  ST7789 TFT屏幕                │
├─────────────┼─────────────┼─────────────────────────────────┤
│ VCC (3.3V)  │  3.3V       │ 逻辑电路供电（必需）          │
│ GND         │  GND        │ 公共地（必需）                │
│ SCL         │  GPIO18     │ SPI时钟                       │
│ SDA         │  GPIO23     │ SPI数据 (MOSI)                │
│ RES         │  GPIO15     │ 复位                          │
│ DC          │  GPIO2      │ 数据/命令                     │
│ CS          │  GPIO5      │ 片选                          │
│ BLK (5V)    │  5V         │ 背光电源（必需！）            │
├─────────────┼─────────────┼─────────────────────────────────┤
│             │             │  DHT11 温湿度传感器            │
├─────────────┼─────────────┼─────────────────────────────────┤
│ VCC         │  3.3V       │ 电源                          │
│ GND         │  GND        │ 地                            │
│ DATA        │  GPIO14     │ 数据引脚                      │
├─────────────┼─────────────┼─────────────────────────────────┤
│             │             │  YS-IRTM 红外模块              │
├─────────────┼─────────────┼─────────────────────────────────┤
│ VCC         │  3.3V       │ 电源                          │
│ GND         │  GND        │ 地                            │
│ TX          │  GPIO16     │ 模块发送 → ESP32接收 (RX2)    │
│ RX          │  GPIO17     │ 模块接收 ← ESP32发送 (TX2)    │
└─────────────┴─────────────┴─────────────────────────────────┘


═══════════════════════════════════════════════════════════════════

【关键注意事项】

⚠️ ST7789需要双电压供电：
   - VCC 接 3.3V（逻辑电路）
   - BLK 接 5V  （背光）
   两个都必须接，否则无法正常显示！

⚠️ YS-IRTM的TX/RX交叉连接：
   - 模块 TX → ESP32 RX (GPIO16)
   - 模块 RX → ESP32 TX (GPIO17)

⚠️ 所有模块必须共地：
   - 将所有GND连接在一起
   - 否则信号无法正常通信

⚠️ 电源稳定性：
   - 使用外部5V电源时，确保能够提供足够电流
   - 建议电流：≥500mA


═══════════════════════════════════════════════════════════════════

【电源方案对比】

方案A：USB供电（开发调试）
┌─────────────────────────────────┐
│ USB → ESP32 VIN                │
│   ├─ 3.3V → 各模块3.3V引脚     │
│   └─ 5V  → ST7789 BLK          │
└─────────────────────────────────┘
优点：简单方便
缺点：功率有限，USB接口限制

方案B：外部5V电源（推荐实际使用）
┌─────────────────────────────────┐
│ 5V电源 → ESP32 VIN             │
│   ├─ 3.3V → 各模块3.3V引脚     │
│   └─ 5V  → ST7789 BLK          │
└─────────────────────────────────┘
优点：功率充足，稳定可靠
缺点：需要额外电源


═══════════════════════════════════════════════════════════════════

【测试步骤】

1. 检查电源连接
   ✓ 3.3V连接到ST7789 VCC
   ✓ 5V连接到ST7789 BLK
   ✓ 所有GND连接

2. 上电测试
   ✓ 屏幕应该亮起（背光）
   ✓ 串口应该有启动信息

3. 功能测试
   ✓ 输入TEST_IR测试YS-IRTM
   ✓ 输入LEARN学习遥控器
   ✓ 检查温湿度显示


═══════════════════════════════════════════════════════════════════
